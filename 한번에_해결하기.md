# 🎯 로그인 오류 한 번에 해결하기

## 현재 문제
로그인 시 "Server error - There is a problem with the server configuration" 오류 발생

---

## ✅ 해결 방법 (3단계)

### 1단계: 환경 변수 확인

브라우저에서 접속:
```
https://caringnote.vercel.app/api/auth-check
```

**확인할 항목:**
- `nextAuth.secret`: "✅ 설정됨" 또는 "❌ 설정 안 됨"
- `nextAuth.url`: URL 확인
- `recommendation`: 설정해야 할 항목 목록

---

### 2단계: Vercel에서 환경 변수 설정

#### 필수 환경 변수 2개 추가:

1. **NEXTAUTH_SECRET**
   - 온라인 생성: https://generate-secret.vercel.app/32
   - 복사 → Vercel Settings → Environment Variables → Add
   - Key: `NEXTAUTH_SECRET`
   - Value: 복사한 값
   - Environment: 모두 체크 (Production, Preview, Development)

2. **NEXTAUTH_URL**
   - Key: `NEXTAUTH_URL`
   - Value: `https://caringnote.vercel.app` (정확히)
   - Environment: 모두 체크

---

### 3단계: 재배포

**반드시 재배포해야 환경 변수가 적용됩니다!**

1. Vercel 대시보드
2. Deployments 탭
3. 최신 배포 클릭
4. "Redeploy" 버튼 클릭
5. 배포 완료 대기 (1-2분)

---

## ✅ 완료 확인

재배포 완료 후:

1. **환경 변수 확인:**
   ```
   https://caringnote.vercel.app/api/auth-check
   ```
   → 모든 항목이 "✅ 설정됨" 또는 "✅ 정상"이어야 함

2. **로그인 테스트:**
   - 회원가입한 계정으로 로그인
   - 정상 작동하면 완료! ✅

---

## 🔍 여전히 안 되면

### 오류 메시지 확인

Vercel 대시보드:
1. Deployments → 최신 배포
2. Functions 로그 확인
3. 오류 메시지 찾기

### 일반적인 문제

- **"NEXTAUTH_SECRET is missing"** → 환경 변수 추가 및 재배포
- **"Invalid URL"** → NEXTAUTH_URL이 정확한지 확인
- **"Database error"** → `/api/db-check`로 확인

---

**환경 변수 설정 후 재배포하면 로그인이 정상 작동합니다!** 🚀

